<!doctype html>
<html lang="zh-cn">
<head>
<meta charset="utf-8">
<title>循环滚动列表</title>
<link href="css/style.css" rel="stylesheet"/>
<link href="css/custom.css" rel="stylesheet"/>

<link rel="stylesheet" href="css/jquery-ui.css">
<link rel="stylesheet" href="css/jquery.autocompleter.css">

<script src="js/jquery.min.js"></script>
<script src="js/autoScroll.js"></script>

<script src="js/jquery-ui.js"></script>
<script src="js/jquery.autocompleter.min.js" type="text/javascript"></script>
<script>
 $(function(){



   lismanager = {

      liArray : [],

      init : function(select){
        // init thing, get the li length 
        var len = $(select+" li").length;
        this.index = len;
        for(var i=0;i<len;i++){
          this.liArray.push($(select+ " li:eq(" + i +")"));
        }
      },

      index : 0,

      bias : 0,

      push : function(litext){
        this.liArray[parseInt((this.index-1)*Math.random())].text(litext);
      }
   };
   var select = ".wrap .autoBox";
   lismanager.init(select);



 	 $("#autoScroll").autoScroll({
	  direction: 'up',     
	  interval: 50,      //interval、speed、distance都很小时，就形成了平滑滚动现象。
	  speed: 10,      
	  distance: 1,      
	  liHeight: 30,          
	  showNum: 13      
	 });	


    $( "#tags" ).autocomplete({
      source: function(request, cb){

          var termtemp = request.term;

          var randomget = parseInt(3*Math.random()+2);
          var term = request.term;
          if(term.length>randomget){
            term = term.substring(term.length-randomget,term.length);
          }

          //alert(term);

          $.getJSON("/qs.b",{q:term,size:15},function(data){
                // cb(data ||[]);  // no pop out any more 
               
                // clear input immediately
                //  $("#tags").val("");    // no clears any more 
               
               // add when length too long, clear and record 
                 

               // use for  li 
               
               for (val in data){          
                 lismanager.push(data[val]);
               }

          });

          if(termtemp.length > 30){
               $('#tags').val('');
               $('.textarea').html($('.textarea').text()+termtemp);
          }

      }
    });



 	});
</script>
</head>
<body>
	 <!--第二个案例 保持结构不变，id不同就可以复用多个-->
   <div class="textarea">
      文起 ：
   </div>

<div class="ui-widget" >
  <label for="tags">~~: </label>
  <input id="tags">
</div>

<div class=wrap>



<div class=box2>
 <div class="autoBox" id="autoScroll">
  <ul class="texts">
  <li><a href="#">1. 何日功，还乡，醉笑陪公三万场。不用诉离觞，痛饮从来别有肠。</a></li>
  <li><a href="#">2. 何日功成名遂了，还乡，醉笑陪公三万场。不用诉离觞，痛饮从来别有肠。</a></li>
  <li><a href="#">3. 何日功成名遂了，还乡，醉笑陪公三万场。不用诉离觞，痛饮从来别有肠。</a></li>
  <li><a href="#">4. 何日功成名遂了，还乡，醉笑陪公三万场。不用诉离觞，痛饮从来别有肠。</a></li>
  <li><a href="#">5. 何日功成名遂了，还乡，醉笑陪公三万场。不用诉离觞，痛饮从来别有肠。</a></li>
  <li><a href="#">6. 何日功成名遂了，还乡，醉笑陪公三万场。不用诉离觞，痛饮从来别有肠。</a></li>
  <li><a href="#">7. 何日功成名遂了，还乡，醉笑陪公三万场。不用诉离觞，痛饮从来别有肠。</a></li>
  <li><a href="#">8. 何日功成名遂了，还乡，醉笑陪公三万场。不用诉离觞，痛饮从来别有肠。</a></li>
  <li><a href="#">2. 何日功成名遂了，还乡，醉笑陪公三万场。不用诉离觞，痛饮从来别有肠。</a></li>
  <li><a href="#">3. 何日功成名遂了，还乡，醉笑陪公三万场。不用诉离觞，痛饮从来别有肠。</a></li>
  <li><a href="#">4. 何日功成名遂了，还乡，醉笑陪公三万场。不用诉离觞，痛饮从来别有肠。</a></li>
  <li><a href="#">5. 何日功成名遂了，还乡，醉笑陪公三万场。不用诉离觞，痛饮从来别有肠。</a></li>
  <li><a href="#">6. 何日功成名遂了，还乡，醉笑陪公三万场。不用诉离觞，痛饮从来别有肠。</a></li>
  <li><a href="#">7. 何日功成名遂了，还乡，醉笑陪公三万场。不用诉离觞，痛饮从来别有肠。</a></li>
  <li><a href="#">8. 何日功成名遂了，还乡，醉笑陪公三万场。不用诉离觞，痛饮从来别有肠。</a></li>
  </ul>
 </div>
 </div>  
</div>

</body>
</html>
